{% extends 'decks.html' %}

{% load static %}

<!-- Configuraciones específicas del <head> -->
{% block head %}{% endblock %}
<!-- Panel (Python) -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@holoviz/panel@1.3.1/dist/css/widgets.css" type="text/css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@holoviz/panel@1.3.1/dist/css/markdown.css" type="text/css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@holoviz/panel@1.3.1/dist/bundled/bootstraptemplate/bootstrap.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@holoviz/panel@1.3.1/dist/bundled/theme/default.css" />

<!-- Tabulator -->
<script type="text/javascript" src="https://unpkg.com/tabulator-tables@5.5.0/dist/js/tabulator.min.js"></script>
{% block content %}

<!-- SECCIÓN 0 -->
<section>
    <h1>
        <code>&lt;diapo&gt;</code>
    </h1>
</section>

<!-- Portada y descripción -->
<section>
    <h2><code>&lt;diapo&gt;</code></h2>
    <h4>Un sistema de presentaciones web para probabilidad y estadística en ingeniería eléctrica</h4>
    <p>Esta es una presentación de ejemplo</p>
    <p class="small">Proyecto <strong>PD-IE-472-2022</strong> <br> <em>Estrategias docentes para sesiones virtuales interactivas con el desarrollo de un nuevo sistema web: una experiencia en el curso Modelos Probabilísticos de Señales y Sistemas</em></p>
</section>

<section>
    <h2><i class="bi bi-list-nested"></i><br>Contenido</h2>
    <dl>
        <dt>Capacidades del sistema</dt>
        <dd>Características deseadas para la plataforma, según comparación con otros sistemas similares de
            presentaciones</dd>
        <dt>Contenido web especializado</dt>
        <dd>Categorías diferenciadas de contenido web que son útiles para la enseñanza de teoría matemática y análisis
            de datos</dd>
        <dt>Actividades pedagógicas</dt>
        <dd>Tipos de actividades pedagógicas propuestas con las capacidades del sistema y los contenidos web
            especializados</dd>
    </dl>
</section>

<!-- SECCIÓN 1 -->
<!-- Capacidades del sistema -->
<section>
    <section>
        <h1><i class="bi bi-person-video3"></i><br>Capacidades del sistema</h1>
        <blockquote>
            Características deseadas para la plataforma, según comparación con otros sistemas similares de
            presentaciones
        </blockquote>
    </section>

    <!-- 1. Navegador web -->
    <section>
        <h3><span class="badge bg-secondary">1</span> <br> Presentación en un navegador web</h3>
        <p>
            El sistema está diseñado para ser usado en un navegador web.
        </p>
        <div class="container text-center">
            <div class="row">
                <div class="col">
                    <i class="bi bi-window-fullscreen"></i> <br>
                    Visualización adaptada a diferentes tamaños de pantalla.
                </div>
                <div class="col">
                    <i class="bi bi-cloud-arrow-down-fill"></i> <br>
                    Mejor calidad de imagen y mejor uso de datos que con <em>streaming</em>.
                </div>
                <div class="col">
                    <i class="bi bi-ui-checks-grid"></i> <br>
                    Navegador habilita posibilidad de interacción con participantes.
                </div>
            </div>
        </div>
        <p class="small">¿Romper la cuarta pared?</p>
    </section>

    <!-- 2. Contenido multimedia -->
    <section>
        <h3><span class="badge bg-secondary">2</span> <br> Contenido multimedia</h3>
        <p>
            El sistema permite incluir contenido multimedia en las diapositivas. <br> ¡Ejemplo: este texto o <a href="https://youtu.be/dQw4w9WgXcQ">este link</a>!
        </p>
        <div class="row row-cols-1 row-cols-md-2 g-4">
            <div class="col">
                <h4>Animaciones</h4>
                <p class="lead">Es posible animar <br><span id="animate"></span></p>
                <script src="https://unpkg.com/typeit@8.7.1/dist/index.umd.js"></script>
                <script>
                    new TypeIt("#animate", {
                        speed: 50,
                        loop: true,
                        startDelay: 900,
                    })
                        .type("textos (como este)", { delay: 1500 })
                        .delete(18, { delay: 100 })
                        .type("imágenes", { delay: 1500 })
                        .delete(18, { delay: 100 })
                        .type("ecuaciones (pendiente)", { delay: 1500 })
                        .delete(22, { delay: 100 })
                        .type("¡muchas cosas! La web evolucionó para esto", { delay: 1500 })
                        .delete(58, { delay: 100 })
                        .type("¿la clase?", { delay: 3000 })
                        .go();
                </script>
            </div>
            <div class="col">
                <h4>Audio</h4>
                <audio controls>
                    <source src="{% static 'audio/perro.mp3' %}" type="audio/mpeg">
                    Audio no soportado.
                </audio>
            </div>
            <div class="col">
                <h4>Imágenes</h4>
                <img src="{% static 'images/blob.gif' %}" height="200px">
            </div>
            <div class="col">
                <h4>Video</h4>
                <video controls height="200px">
                    <source src="{% static 'video/nyan_cat.mp4' %}" type="video/mp4">
                    Video no soportado.
                </video>
            </div>
        </div>
    </section>

    <!-- 3. Contenido web -->
    <section>
        <h3><span class="badge bg-secondary">3</span> <br> Contenido web</h3>
        <p>
            El sistema permite incluir <em>otros tipos</em> de contenido web en las diapositivas.
        </p>
        <p class="small">(Aparte de los contenidos multimedia de la sección anterior)</p>
        <div class="row">
            <div class="col">
                <h4>Formularios</h4>
                <label for="age" class="form-label small text-start">Ingrese su edad para conocer el número ganador de la lotería</label>
                <input type="number" id="age" class="form-control" aria-describedby="age-help" placeholder="Edad">
                <div id="age-help" class="form-text text-start">
                    Nota: el resultado no especifica para cuál sorteo.
                </div>
                <button type="submit" class="btn btn-primary mt-3" onclick="getRandomNumber()">Voy a tener suerte</button>
                <script>
                    function getRandomNumber() {
                        let age = document.getElementById('age').value;
                        let luckyNumber = Math.floor(Math.random() * 100);
                        alert(`Su número de la suerte es ${luckyNumber}.`);
                    }
                </script>
            </div>
            <div class="col">
                <h4>Contenidos incrustados</h4>
            </div>

        </div>
    </section>

    <!-- 4. Contenido interactivo -->
    <section>
        <h3><span class="badge bg-secondary">4</span> <br> Contenido interactivo</h3>
        <p>
            La presentación vive en el navegador de cada participante, donde puede interactuar con algunos elementos.
        </p>
        <p><span class="badge rounded-pill text-bg-warning">PENDIENTE</span></p>
    </section>

    <!-- 5. Contenido matemático -->
    <section>
        <h3><span class="badge bg-secondary">5</span> <br> Contenido matemático</h3>
        <p>
            El sistema permite incluir contenido matemático en las diapositivas.
        </p>
        <div class="row">
            <div class="col">
                <h4>Ecuaciones</h4>
            </div>
            <div class="col">
                <h4>Gráficos</h4>
            </div>
        </div>
        <div class="row align-items-center">
            <div class="col">

                $$
                f_X(x) = {\frac{1}{\sigma {\sqrt {2\pi }}}} e^{-{\frac{1}{2}} \left({\frac {x-\mu }{\sigma
                }}\right)^{2}}
                $$
            </div>
            <div class="col">

                <script src="{% static 'bokeh/simple_normal.js' %}" id="simple-normal"></script>
            </div>
        </div>
    </section>

    <!-- 6. Visualización de datos -->
    <section>
        <h3><span class="badge bg-secondary">6</span> <br> Visualización de datos</h3>
        <p>
            El sistema permite incluir visualizaciones de datos en las diapositivas, como tablas o gráficas en tiempo real.
        </p>
        <script defer src="https://cdn.jsdelivr.net/npm/@holoviz/panel@1.3.1/dist/panel.min.js"></script>
        <div class="pyscript">
            <div class="row overflow-hidden" id="content">
                <div class="col mh-100 float-left" id="main">
                    <div class="bk-root" id="controls"></div>
                    <div class="row">
                        <div class="bk-root" id="plot"></div>
                    </div>
                </div>
            </div>

            <script type="py" src="{% static 'pyscript/stream.py' %}" config="{% static 'pyscript.json' %}"></script>
        </div>
    </section>

    <!-- 7. Contenido de programación -->
    <section>
        <h3><span class="badge bg-secondary">7</span> <br> Contenido de programación</h3>
        <p>
            Es posible ver pero también editar y ejecutar (en el navegador) fragmentos de código de Python.
        </p>
        <div class="w-auto container">
            <div class="d-flex flex-wrap flex-md-nowrap align-content-around justify-content-between">
                <div class="w-100 card m-2" style="height: 40vh;">
                    <div class="card-header d-flex justify-content-start">
                        <div class="card-header-pills">
                            <i class="bi bi-terminal-fill"></i>
                        </div>
                        <div class="card-title my-0 ms-3">Código</div>
                    </div>
                    <div class="card-body overflow-auto">
                        <py-repl output="hola">
                            <pre>
                                <code data-trim data-noescape data-line-numbers>
                                    import numpy as np
                                    from scipy import stats
                    
                                    # Generar números aleatorios
                                    x = np.random.normal(size=1000)
                                </code>
                            </pre>
                        </py-repl>
                    </div>
                </div>
                <div class="w-100 card m-2" style="height: 40vh;">
                    <div class="card-header d-flex justify-content-start">
                        <div class="card-header-pills">
                            <i class="bi bi-chat-left-text-fill"></i>
                        </div>
                        <div class="card-title my-0 ms-3">Resultados</div>
                    </div>
                    <div class="card-body overflow-auto">
                        <div id="hola"></div>
                    </div>
                </div>
            </div>
        </div>
        <p><span class="badge rounded-pill text-bg-warning"><i class="bi bi-emoji-tear-fill"></i> PENDIENTE</span></p>
    </section>

    <!-- 8. Resultados de simulaciones -->
    <section>
        <h3><span class="badge bg-secondary">8</span> <br> Resultados de simulaciones</h3>
        <p>
            El sistema permite incluir resultados de simulaciones en las diapositivas.
        </p>
    </section>

    <!-- 9. Sesiones remotas -->
    <section>
        <h3><span class="badge bg-secondary">9</span> <br> Sesiones remotas</h3>
        <p>
            Sincronización de la presentación del docente en el navegador de cada participante.
        </p>
        <div class="row align-items-center">
            <div class="col">
                <h4>Modo presentador</h4>
                <i class="bi bi-person-video3"></i> <br>
                Navega las diapositivas y...
            </div>
            <div class="col">
                <i class="bi bi-arrow-right-circle-fill"></i> <br>
                <span class="small">Django Channels WebSockets</span>
            </div>
            <div class="col">
                <h4>Modo participante</h4>
                <i class="bi bi-people-fill"></i> <br>
                ...sigue la presentación.
            </div>
        </div>
    </section>

    <!-- 10. Registro de participantes -->
    <section>
        <h3><span class="badge bg-secondary">10</span> <br> Registro de participantes</h3>
        <p>
            La plataforma tiene un registro de estudiantes matriculados en el o los cursos.
        </p>
        <ul>
            <li>Registro de participación en actividades</li>
            <li>Notas de participantes en evaluaciones</li>
        </ul>
    </section>

    <!-- 11. Edición de diapositivas por código -->
    <section>
        <h3><span class="badge bg-secondary">11</span> <br> Edición de diapositivas por código</h3>
        <p>
            Para bien o para mal, la edición de las presentaciones es enteramente hecha en los archivos de código fuente.
        </p>
        <p>
        <h1><i class="bi bi-code-slash"></i></h1>
        </p>
    </section>

    <!-- 12. Software libre -->
    <section>
        <h3><span class="badge bg-secondary">12</span> <br> Software libre</h3>
        <p>
            Todo el <em>stack</em> tecnológico está hecho con plataformas de software libre y el repositorio del proyecto es de acceso público.
        </p>
        <div class="row row-cols-1 row-cols-md-3 g-4 small">
            <div class="col">
                <h5>Django</h5>
                <p>Plataforma del servidor para gestión de usuarios, bases de datos, etc.</p>
            </div>
            <div class="col">
                <h5>RevealJS</h5>
                <p>Plataforma HTML/CSS/JavaScript de presentaciones en el navegador.</p>
            </div>
            <div class="col">
                <h5>PyScript</h5>
                <p>Python dentro del código HTML ejecutado directamente en el navegador.</p>
            </div>
            <div class="col">
                <h5>Bootstrap</h5>
                <p>Formato adicional dentro de la presentación para la diagramación de las diapositivas.</p>
            </div>
            <div class="col">
                <h5>Bokeh</h5>
                <p>Paquete de Python para creación de gráficas y exportación como contenido web.</p>
            </div>
            <div class="col">
                <h5>Python</h5>
                <p>Programación de uso general, incluyendo paquetes de análisis de datos.</p>
            </div>
        </div>
    </section>
</section>

<!-- SECCIÓN 2 -->
<!-- Categorías de contenidos web -->
<section>
    <section>
        <h1><i class="bi bi-code-square"></i><br>Contenido web especializado</h1>
        <blockquote>
            Categorías diferenciadas de contenido web que son útiles para la enseñanza de teoría matemática y análisis
            de datos
        </blockquote>
    </section>

    <!-- I. Ecuaciones y otras herramientas matemáticas -->
    <section>
        <h3><span class="badge bg-secondary">I</span> <br> Ecuaciones y otras herramientas matemáticas</h3>
        <p>
            Es importante para un curso de teoría matemática básica poder mostrar <strong>de forma nativa</strong> ecuaciones y gráficos para ilustrar los conceptos.
        </p>
    </section>
    <section>
        <h3>Ecuaciones en LaTeX</h3>
        <div class="row">
            <div class="col">
                $$
                x_{1,2} = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}
                $$
            </div>
            <div class="col">
                <span class="badge bg-secondary">Opcional</span>
            </div>
        </div>
    </section>
    <section>
        <h3>Gráficos en Bokeh</h3>
        <script src="{% static 'bokeh/simple_line.js' %}" id="b085a7a4-44c5-4bc4-bbb0-a2c5b3dc7f5c"></script>
    </section>
    <section>
        <h3>Gráficos en TikZ</h3>
        <pre>
            <code>
                \begin{tikzpicture}
                    \def \n {5}
                    \def \radius {3cm}
                    \def \margin {8}
                    \foreach \s in {1,...,\n}
                    {
                        \node[draw, circle] at ({360/\n * (\s - 1)}:\radius) {$\s$};
                        \draw[->, >=latex] ({360/\n * (\s - 1)+\margin}:\radius) 
                            arc ({360/\n * (\s - 1)+\margin}:{360/\n * (\s)-\margin}:\radius);
                    }
                \end{tikzpicture}
            </code>
        </pre>

        <script type="text/tikz">
            \begin{tikzpicture}
                \def \n {5}
                \def \radius {3cm}
                \def \margin {8} % margin in angles, depends on the radius
                \foreach \s in {1,...,\n}
                {
                    \node[draw, circle] at ({360/\n * (\s - 1)}:\radius) {$\s$};
                    \draw[->, >=latex] ({360/\n * (\s - 1)+\margin}:\radius) 
                        arc ({360/\n * (\s - 1)+\margin}:{360/\n * (\s)-\margin}:\radius);
                }
            \end{tikzpicture}
        </script>

    </section>

    <!-- II. Visualizaciones de datos -->
    <section>
        <h3><span class="badge bg-secondary">II</span> <br> Visualizaciones de datos</h3>
        <p>
            Es importante para un curso basado en análisis de datos poder mostrar diferentes tipos de visualizaciones de datos, como tablas y otros gráficos, inclusive en tiempo real.
        </p>
    </section>
    <section>
        <h3>Tablas interactivas incrustadas</h3>
    </section>

    <!-- III. Contenido de programación -->
    <section>
        <h3><span class="badge bg-secondary">III</span> <br> Contenido de programación</h3>
        <p>
            Es importante para un curso que incluye computación científica y cálculo numérico para el análisis de datos, mostrar o ejecutar código como método de enseñanza y aprendizaje.
        </p>
    </section>

    <!-- IV. Interactividad -->
    <section>
        <h3><span class="badge bg-secondary">IV</span> <br> Interactividad</h3>
        <p>
            Es importante para un curso virtual procurar la participación activa de los estudiantes, como método de motivación en clase y de evaluación de conocimientos.
        </p>
    </section>
</section>

<!-- SECCIÓN 3 -->
<!-- Tipos de actividades pedagógicas -->
<section>
    <section>
        <h1><i class="bi bi-pencil-square"></i><br>Actividades pedagógicas</h1>
        <blockquote>
            Tipos de actividades pedagógicas propuestas con las capacidades del sistema y los contenidos web especializados
        </blockquote>
    </section>

    <!-- A. Visualizaciones de la teoría -->
    <section>
        <h3><span class="badge bg-secondary">A</span> <br> Visualizaciones de la teoría</h3>
        <p>
            El sistema permite incluir visualizaciones de la teoría en las diapositivas.
        </p>
    </section>

    <!-- B. Ejemplos prácticos -->
    <section>
        <h3><span class="badge bg-secondary">B</span> <br> Ejemplos prácticos</h3>
        <p>
            El sistema permite incluir ejemplos prácticos en las diapositivas.
        </p>
    </section>

    <!-- C. Problemas resueltos de práctica -->
    <section>
        <h3><span class="badge bg-secondary">C</span> <br> Problemas resueltos de práctica</h3>
        <p>
            El sistema permite incluir problemas resueltos de práctica en las diapositivas.
        </p>
    </section>

    <!-- D. Evaluaciones teóricas y prácticas -->
    <section>
        <h3><span class="badge bg-secondary">D</span> <br> Evaluaciones teóricas y prácticas</h3>
        <p>
            El sistema permite incluir evaluaciones teóricas y prácticas en las diapositivas.
        </p>
    </section>

    <!-- E. Ejercicios de programación -->
    <section>
        <h3><span class="badge bg-secondary">E</span> <br> Ejercicios de programación</h3>
        <p>
            El sistema permite incluir ejercicios de programación en las diapositivas.
        </p>
    </section>

    <!-- F. Problema de diseño -->
    <section>
        <h3><span class="badge bg-secondary">F</span> <br> Problema de diseño</h3>
        <p>
            El sistema permite incluir problemas de diseño en las diapositivas.
        </p>
    </section>
</section>

<!-- SECCIÓN N -->
<!-- Aspectos finales -->
<section>
    <h3><em>Clases modelo</em> para el primer ciclo del 2024</h3>
    <table>
        <tr>
            <td>CM</td>
            <td>Semana</td>
            <td>Fechas</td>
            <td>Tema</td>
            <td>Pres.</td>
            <td>Subtema</td>
        </tr>
        <tr>
            <td>1</td>
            <td>3</td>
            <td>1 abr</td>
            <td>1</td>
            <td>3</td>
            <td>Pruebas repetidas de Bernoulli</td>
        </tr>
        <tr>
            <td>2</td>
            <td>6</td>
            <td>22 abr</td>
            <td>2</td>
            <td>7, 8</td>
            <td>Transformaciones de variables aleatorias</td>
        </tr>
        <tr>
            <td>3</td>
            <td>9</td>
            <td>13 may</td>
            <td>3</td>
            <td>12</td>
            <td>Teorema del límite central</td>
        </tr>
        <tr>
            <td>4</td>
            <td>13</td>
            <td>10 jun</td>
            <td>4</td>
            <td>15</td>
            <td>Características espectrales de procesos aleatorios</td>
        </tr>
        <tr>
            <td>5</td>
            <td>16</td>
            <td>31 jun</td>
            <td>5</td>
            <td>19</td>
            <td>Cadenas de Markov de tiempo continuo</td>
        </tr>
    </table>
    <p class="small">Lunes 12:00 m.d. por <a href="https://udecr.zoom.us/j/5223705889">Zoom</a> <br> IE0405 - Modelos Probabilísticos de Señales y Sistemas</p>
</section>
<section>
    <h1>
        <code>&lt;/diapo&gt;</code>
    </h1>
</section>

{% endblock %}

{% block websocket %}
{% if role == "presenter" %}
<script>
    const wsRouteTx = 'ws://' + window.location.host + '/ws/deck/slider/project/';
    const deckSocket = new WebSocket(wsRouteTx);

    // Registrar la conexión abierta
    deckSocket.onopen = function (event) {
        console.log('Conexión WebSocket abierta exitosamente como presentador en ' + wsRouteTx);
    };

    Reveal.on('slidechanged', event => {
        deckSocket.send(JSON.stringify({
            'indexh': event.indexh,
            'indexv': event.indexv
        }));
    });
</script>
{% else %}
<script>
    const wsRouteRx = 'ws://' + window.location.host + '/ws/deck/slider/project/';
    const deckSocket = new WebSocket(wsRouteRx);

    // Registrar la conexión abierta
    deckSocket.onopen = function (event) {
        console.log('Conexión WebSocket abierta exitosamente como cliente en ' + wsRouteRx);
    };

    deckSocket.onmessage = function (event) {
        const data = JSON.parse(event.data);
        Reveal.slide(data.message.indexh, data.message.indexv);
    };
</script>
{% endif %}
{% endblock %}